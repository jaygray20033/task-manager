<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Task Manager - Dashboard</title>
    <link rel="stylesheet" href="/css/style.css" />
  </head>
  <body>
    <div class="dashboard">
      <!-- Redesigned header with better styling -->
      <header class="dashboard-header">
        <div class="header-content">
          <div class="header-left">
            <h1>üìã Task Manager</h1>
            <p class="header-subtitle">Qu·∫£n l√Ω c√¥ng vi·ªác hi·ªáu qu·∫£</p>
          </div>
          <div class="user-info">
            <!-- Added Teams button -->
            <a href="/teams.html" class="btn btn-secondary">üë• Teams</a>
            <div class="user-avatar">
              <span id="userInitial">?</span>
            </div>
            <div class="user-details">
              <span id="userName" class="user-name">Loading...</span>
              <span class="user-role">Ng∆∞·ªùi d√πng</span>
            </div>
            <button id="logoutBtn" class="btn btn-secondary">ƒêƒÉng xu·∫•t</button>
          </div>
        </div>
      </header>

      <!-- Main Content -->
      <main class="dashboard-main">
        <div class="container">
          <!-- Updated upcoming tasks section with proper structure -->
          <div class="upcoming-tasks-section" id="upcomingTasksSection">
            <div class="section-header">
              <h3>‚è∞ C√¥ng vi·ªác s·∫Øp ƒë·∫øn h·∫°n (24 gi·ªù t·ªõi)</h3>
              <span class="badge badge-warning" id="upcomingCount">0</span>
            </div>
            <div id="upcomingTasksList" class="upcoming-tasks-list">
              <!-- Upcoming tasks will be loaded here -->
            </div>
            <div
              id="upcomingEmptyState"
              class="empty-state-small"
              style="display: none"
            >
              <p>‚úÖ Kh√¥ng c√≥ c√¥ng vi·ªác n√†o s·∫Øp ƒë·∫øn h·∫°n</p>
            </div>
          </div>

          <!-- Task Stats -->
          <div class="task-stats">
            <div class="stat-card stat-card-total">
              <div class="stat-icon">üìä</div>
              <div class="stat-info">
                <span class="stat-number" id="totalTasks">0</span>
                <span class="stat-label">T·ªïng s·ªë c√¥ng vi·ªác</span>
              </div>
            </div>
            <div class="stat-card stat-card-active">
              <div class="stat-icon">‚è≥</div>
              <div class="stat-info">
                <span class="stat-number" id="activeTasks">0</span>
                <span class="stat-label">Ch∆∞a ho√†n th√†nh</span>
              </div>
            </div>
            <div class="stat-card stat-card-completed">
              <div class="stat-icon">‚úÖ</div>
              <div class="stat-info">
                <span class="stat-number" id="completedTasks">0</span>
                <span class="stat-label">ƒê√£ ho√†n th√†nh</span>
              </div>
            </div>
          </div>

          <!-- Redesigned task input section -->
          <div class="task-input-section">
            <div class="section-header">
              <h2>‚ûï Th√™m c√¥ng vi·ªác m·ªõi</h2>
            </div>
            <form id="taskForm">
              <div class="task-input-grid">
                <div class="input-wrapper">
                  <label for="taskDescription">M√¥ t·∫£ c√¥ng vi·ªác</label>
                  <input
                    type="text"
                    id="taskDescription"
                    placeholder="Nh·∫≠p m√¥ t·∫£ c√¥ng vi·ªác..."
                    required
                  />
                </div>
                <div class="input-wrapper">
                  <label for="taskCategory">H·∫°ng m·ª•c</label>
                  <input
                    type="text"
                    id="taskCategory"
                    placeholder="VD: N·∫•u ƒÉn, G·∫∑p ƒë·ªëi t√°c..."
                    list="categoryList"
                  />
                  <datalist id="categoryList">
                    <!-- Categories will be populated dynamically -->
                  </datalist>
                </div>
                <div class="input-wrapper">
                  <label for="taskDueDate">Th·ªùi gian h·∫πn</label>
                  <input type="datetime-local" id="taskDueDate" />
                </div>
                <div class="input-wrapper">
                  <button type="submit" class="btn btn-primary btn-add">
                    <span>‚ûï</span> Th√™m c√¥ng vi·ªác
                  </button>
                </div>
              </div>
              <div class="input-hint">
                üí° Th√™m th·ªùi gian h·∫πn ƒë·ªÉ nh·∫≠n email nh·∫Øc nh·ªü tr∆∞·ªõc 1 gi·ªù
              </div>
            </form>
          </div>

          <!-- Redesigned filters section -->
          <div class="filters-section">
            <div class="filters-group">
              <label>Tr·∫°ng th√°i:</label>
              <div class="filters">
                <button class="filter-btn active" data-filter="all">
                  <span>üìã</span> T·∫•t c·∫£
                </button>
                <button class="filter-btn" data-filter="active">
                  <span>‚è≥</span> Ch∆∞a ho√†n th√†nh
                </button>
                <button class="filter-btn" data-filter="completed">
                  <span>‚úÖ</span> ƒê√£ ho√†n th√†nh
                </button>
              </div>
            </div>

            <div class="filters-group">
              <label for="categoryFilter">H·∫°ng m·ª•c:</label>
              <select id="categoryFilter" class="select-input">
                <option value="all">T·∫•t c·∫£ h·∫°ng m·ª•c</option>
              </select>
            </div>

            <div class="filters-group">
              <label for="sortBy">S·∫Øp x·∫øp:</label>
              <select id="sortBy" class="select-input">
                <option value="default">M·∫∑c ƒë·ªãnh</option>
                <option value="dueDate">Th·ªùi h·∫°n (s·ªõm nh·∫•t)</option>
                <option value="createdAt">M·ªõi nh·∫•t</option>
                <option value="createdAtOld">C≈© nh·∫•t</option>
              </select>
            </div>
          </div>

          <!-- Task List -->
          <div class="task-list-section">
            <div class="section-header">
              <h2>üìù Danh s√°ch c√¥ng vi·ªác</h2>
            </div>
            <div id="taskList" class="task-list">
              <!-- Tasks will be loaded here -->
            </div>
            <div id="emptyState" class="empty-state">
              <div class="empty-icon">üì≠</div>
              <p>Ch∆∞a c√≥ c√¥ng vi·ªác n√†o</p>
              <small>H√£y th√™m c√¥ng vi·ªác ƒë·∫ßu ti√™n c·ªßa b·∫°n!</small>
            </div>
          </div>
        </div>
      </main>
    </div>

    <script src="/js/dashboard.js"></script>
  </body>
</html>
